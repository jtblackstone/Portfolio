<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Lab 13</title>
	<meta http-equiv="content-type" 
		content="text/html;charset=utf-8" />
<script language="javascript">
function writeSessionCookie (cookieName, cookieValue) {
  document.cookie = escape(cookieName) + "=" + escape(cookieValue) + "; path=/";
}

function writePersistentCookie (CookieName, CookieValue) {
  var expireDate = new Date ();
  expireDate.setYear(9999);
  document.cookie = escape(CookieName ) + "=" + escape(CookieValue) + "; expires=" + expireDate.toGMTString() + "; path=/";
}

function getCookieValue (cookieName) {
  var exp = new RegExp (escape(cookieName) + "=([^;]+)");
  if (exp.test (document.cookie + ";")) {
    exp.exec (document.cookie + ";");
    return unescape(RegExp.$1);
  }
  else return false;
}

function loadPrefs(){
	var username=getCookieValue("name")
	if(username != false)
	{
	alert("Welcome back " + username + "!");
	}
	
	var favcolor=getCookieValue("color")
	{
		document.body.style.background=favcolor
	}
}

function setPrefs(){
	writePersistentCookie("name",document.namecolor.name.value);
	writeSessionCookie("color",document.namecolor.color.value);
}
</script>
</head>
<body onLoad="loadPrefs()">
<form name="namecolor" onsubmit="return setPrefs()" method="post">
Name: <input type="text" name="name"><br>
Color: <input type="text" name="color"><br>
<input type="submit" value="Set/Update Preferences">
</form>
</body>
</html>